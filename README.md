# 🧠 pi-memory V4.1 (海马体架构)

> **专为 [pi-agent](https://github.com/mariozechner/pi-coding-agent) 打造的仿生记忆扩展插件**
> *Bio-mimetic Memory Extension with Hippocampus Architecture*

[![Pi Agent Extension](https://img.shields.io/badge/Pi%20Agent-Extension-blueviolet)](https://github.com/mariozechner/pi-coding-agent)
[![Version](https://img.shields.io/badge/version-4.1.0-blue)](https://github.com/lebonbruce/pi-memory)

**海马体 (Hippocampus)** 是一个先进的 AI 记忆系统，它不仅仅是一个数据库，更模拟了人脑的记忆机制：
- **🧠 自动编码**：像人一样自动区分 **Fact** (事实)、**Rule** (规则) 和 **Event** (经历)。
- **🕸️ 智能联想**：支持跨项目记忆穿透 (Cross-Cortex Association)。在当前项目能回忆起其他项目的关键信息，只要它足够重要。
- **📉 自然遗忘**：遵循艾宾浩斯遗忘曲线，不重要的琐事会随着时间自然淡忘，核心原则永驻脑海。

---

## ⚡️ 一键安装 (One-Click Install)

### 🤖 For AI Agents (Cursor, OpenCode, Windsurf, etc.)
如果你是正在操作的 AI 助手 (LLM)，请直接执行以下 Block 完成安装：

```bash
# 1. 进入 pi 扩展目录 (自动适配 Win/Mac/Linux)
cd ~/.pi/agent/extensions || cd $env:USERPROFILE\.pi\agent\extensions

# 2. 克隆仓库
git clone https://github.com/lebonbruce/pi-memory.git

# 3. 安装依赖 (关键步骤: 编译 SQLite 向量引擎)
cd pi-memory
npm install

# 4. 验证安装
echo "✅ pi-memory installed. Please restart the agent."
```

### 👨‍💻 For Humans
1. **下载**: `git clone https://github.com/lebonbruce/pi-memory.git` 到你的 `.pi/agent/extensions/` 目录下。
2. **安装**: 进入目录运行 `npm install`。
3. **重启**: 重启你的 pi agent。

---

## 🤝 移植与定制 (Customization & Porting)

本插件核心架构 (V4.1 Hippocampus) 基于通用的 TypeScript 和 SQLite-vec 构建，理论上可以轻松移植到其他 AI 编码工具中，如：
- **Cursor**
- **OpenCode**
- **Windsurf**
- **VS Code Copilot**

📩 **联系作者**:
如果你希望在其他平台上使用这套记忆系统，或者需要定制开发类似的高级记忆插件，欢迎联系作者或在 GitHub 提交 Issue。
> **Contact**: Create an issue on [GitHub](https://github.com/lebonbruce/pi-memory/issues)

---

## 🎮 如何使用

这个系统是隐形的 (Subconscious)，你正常聊天即可。

### 1. 自动记录
- **你**：“以后数据库密码都是 `123456`。”
- **AI**：自动存为 **[Fact]**，重要性高。

### 2. 立规矩 (Rule)
- **你**：“在这个项目里，必须使用 TypeScript。”
- **AI**：自动存为 **[Rule]**，权重极高，在这个项目永久生效。

### 3. 跨项目联想 (V4.1 特性)
- 假设你在做 **项目B**，突然问：“上次 **项目A** 那个鉴权算法是怎么写的？”
- **AI**：虽然你在 B 项目，但因为它检测到这是重要信息，会跨越项目边界把 A 项目的记忆调取出来 (Permeable Recall)。

---

## 📂 技术细节

- **物理存储**: 所有记忆存储在用户主目录的全局数据库 `~/.pi-memory/memories.db`，实现“物理统一，逻辑隔离”。
- **评分算法**: $Score = Similarity \times (1 + \log(Access)) \times Importance \times Decay \times ContextPenalty$
- **隐私**: 所有数据都在本地，绝不上传云端。

---
*Generated by pi-agent | V4.1 Hippocampus Architecture*
